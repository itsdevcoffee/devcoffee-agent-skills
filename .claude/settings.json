{
  "enabledPlugins": {
    "plugin-dev@claude-plugins-official": true,
    "typescript-lsp@claude-plugins-official": true
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "if echo \"$CLAUDE_TOOL_INPUT\" | grep -q 'marketplace.json'; then echo '⚠️  BLOCK: marketplace.json should only be edited during releases. Use the release workflow skill.'; exit 1; fi",
            "timeout": 5
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "echo '## Devcoffee Recovery Context\n\nContext compaction occurred. Recovery steps:\n\n**Buzzminson:** Read `docs/buzzminson/.active-session` for tracking doc path, then read that file. Run TaskList to find task IDs.\n\n**Maximus:** Read `.maximus-review-state.json` for persisted state. Run TaskList to find task IDs and phase progress.\n\nResume from the last incomplete phase. Do NOT restart completed work.'",
            "timeout": 10
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "scripts/hooks/check-version.sh",
            "timeout": 10
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "if echo \"$CLAUDE_TOOL_INPUT\" | grep -qE 'plugin\\.json|plugin-metadata\\.json'; then cd /home/maskkiller/dev-coffee/repos/devcoffee-agent-skills && node scripts/validate-plugins.js 2>&1 | tail -10 && echo '\n✓ Plugin validation passed'; fi",
            "timeout": 15
          }
        ]
      }
    ]
  }
}
