{
  "version": "1.0.0",
  "tasks": [
    {
      "id": 1,
      "phase": 1,
      "category": "documentation",
      "feature": "Add Task API reference doc and run-summary schema reference",
      "description": "Create two new reference documents in maximus-loop/references/ that the new skills will load during execution. (1) task-api.md: a concise reference card (<100 lines) for using TaskCreate, TaskUpdate, and TaskList in skills — covers subject (imperative) vs activeForm (present continuous), status lifecycle (pending → in_progress → completed), and a 'Skill Integration Pattern' section showing how to create all phase tasks upfront then work through them sequentially. (2) run-summary-schema.md: documents the TaskSummaryEntry fields from the engine's run-summary.json output (taskId, phase, feature, model, costUsd, durationMs, numTurns, outcome, timestamp, errorMessage). Both files are reference cards, not tutorials.",
      "acceptance_criteria": [
        "maximus-loop/references/task-api.md exists with TaskCreate, TaskUpdate, TaskList reference",
        "task-api.md covers subject (imperative) vs activeForm (present continuous) naming conventions",
        "task-api.md includes a 'Skill Integration Pattern' section showing upfront task creation then sequential execution",
        "maximus-loop/references/run-summary-schema.md exists documenting TaskSummaryEntry fields",
        "run-summary-schema.md documents all fields: taskId, phase, feature, model, costUsd, durationMs, numTurns, outcome, timestamp, errorMessage",
        "Both files are concise (<100 lines each)",
        "No changes to existing reference files (plan-schema.md, anti-patterns.md, cost-estimation.md)"
      ],
      "passes": false,
      "file": "maximus-loop/references/task-api.md",
      "complexity_level": "simple",
      "skills": ["plugin-dev:skill-development"],
      "testing_steps": [
        "cat maximus-loop/references/task-api.md",
        "cat maximus-loop/references/run-summary-schema.md",
        "Verify both files render correctly as markdown"
      ]
    },
    {
      "id": 2,
      "phase": 1,
      "category": "feature",
      "feature": "Build /maximus-init skill SKILL.md",
      "description": "Create the SKILL.md for the /maximus-init skill at maximus-loop/skills/maximus-init/SKILL.md. This skill provides project-aware setup that is smarter than the CLI 'maximus init' command. It reads the project's codebase to generate a tailored config.yml instead of generic boilerplate. The skill has 6 phases: (1) Detect — check for existing .maximus/, warn if config has boilerplate defaults, run 'maximus init' if directory missing, (2) Analyze — read CLAUDE.md, package.json/Cargo.toml/go.mod, detect test runner, git commit conventions, directory structure, (3) Configure — generate tailored config.yml with project_name, test runner, timeouts, model escalation, commit prefix, (4) Clean — replace example plan.json tasks with empty tasks array, preserve version field, (5) Suggest — list installed skills available for task 'skills' property, (6) Handoff — print next steps message pointing to /maximus-plan. Use the Task API (TaskCreate/TaskUpdate) to show visual progress with checkboxes for each phase. Reference ${CLAUDE_PLUGIN_ROOT}/references/task-api.md for Task API patterns. Follow the patterns established by maximus-plan SKILL.md (HARD-GATE style, CSO-optimized description).",
      "acceptance_criteria": [
        "maximus-loop/skills/maximus-init/SKILL.md exists with proper frontmatter: name, description with trigger phrases",
        "Description includes CSO-optimized triggers: 'set up maximus', 'configure maximus', 'initialize project', '/maximus-init'",
        "Uses Task API: creates all 6 phase tasks upfront with TaskCreate (subject imperative, activeForm present continuous)",
        "Each phase marks its task in_progress before starting and completed when done via TaskUpdate",
        "All 6 phases documented: Detect, Analyze, Configure, Clean, Suggest, Handoff",
        "References ${CLAUDE_PLUGIN_ROOT}/references/task-api.md for Task API patterns",
        "Handoff phase ends with: 'Your project is configured. Run /maximus-plan to create your first task plan.'"
      ],
      "passes": false,
      "file": "maximus-loop/skills/maximus-init/SKILL.md",
      "complexity_level": "medium",
      "skills": ["plugin-dev:skill-development"],
      "testing_steps": [
        "cat maximus-loop/skills/maximus-init/SKILL.md",
        "Verify frontmatter has name and description fields",
        "Verify all 6 phases are documented with Task API calls"
      ]
    },
    {
      "id": 3,
      "phase": 1,
      "category": "feature",
      "feature": "Build /maximus-init command and agent",
      "description": "Create the command and agent files for /maximus-init. (1) maximus-loop/commands/maximus-init.md: frontmatter with name (maximus-init), description, argument-hint, tools list (Read, Write, Bash, Glob, Grep, AskUserQuestion). Command body invokes the maximus-loop:maximus-init skill with $ARGUMENTS passthrough. (2) maximus-loop/agents/maximus-init.md: frontmatter with name, description containing trigger phrases, model (sonnet), color, tools list. Agent includes example blocks showing trigger scenarios. Agent body invokes the maximus-loop:maximus-init skill. Both files must follow the exact patterns established by the existing maximus-plan.md command and agent files — read those files first to match the structure precisely.",
      "acceptance_criteria": [
        "maximus-loop/commands/maximus-init.md exists with frontmatter: name, description, argument-hint, tools list",
        "Command body invokes maximus-loop:maximus-init skill with $ARGUMENTS passthrough",
        "maximus-loop/agents/maximus-init.md exists with frontmatter: name, description, model (sonnet), color, tools",
        "Agent description includes example blocks showing trigger scenarios for project initialization",
        "Agent body invokes the maximus-loop:maximus-init skill",
        "Both files follow the exact patterns from maximus-plan.md command and agent"
      ],
      "passes": false,
      "file": "maximus-loop/commands/maximus-init.md",
      "complexity_level": "simple",
      "skills": ["plugin-dev:command-development", "plugin-dev:agent-development"],
      "testing_steps": [
        "cat maximus-loop/commands/maximus-init.md",
        "cat maximus-loop/agents/maximus-init.md",
        "Compare structure against maximus-plan.md equivalents for consistency"
      ]
    },
    {
      "id": 4,
      "phase": 2,
      "category": "feature",
      "feature": "Build /maximus-review skill SKILL.md",
      "description": "Create the SKILL.md for the /maximus-review skill at maximus-loop/skills/maximus-review/SKILL.md. This skill provides post-run analysis and intelligent status checking. It supports two modes: full review (default) and quick status (--quick flag or 'check status' trigger). Full review has 6 phases: (1) Read Progress — parse progress.md frontmatter and iteration history, (2) Read Run Summary — load .maximus/run-summary.json for per-task cost/duration/outcome data, (3) Analyze Patterns — identify failures, retries, timeouts, cost outliers, complexity mismatches (e.g. haiku failing multi-file tasks), (4) Review Code — optionally check files changed during the run via git diff, (5) Generate Report — structured findings with severity levels, (6) Propose Follow-up — suggest follow-up tasks or plan extensions with user approval. Quick status mode (--quick) runs only phases 1-3 and outputs a concise terminal summary with completion percentage, cost, ETA, and any warnings. Use the Task API for visual progress in both modes. Reference ${CLAUDE_PLUGIN_ROOT}/references/run-summary-schema.md for TaskSummaryEntry fields and ${CLAUDE_PLUGIN_ROOT}/references/cost-estimation.md for cost analysis benchmarks.",
      "acceptance_criteria": [
        "maximus-loop/skills/maximus-review/SKILL.md exists with proper frontmatter: name, description with trigger phrases",
        "Description includes triggers for both review and status: 'review run', 'analyze results', 'check status', 'how is the run going', '/maximus-review'",
        "Supports two modes: full review (default) and quick status (--quick flag)",
        "Full review has 6 phases with Task API progress: Read Progress, Read Run Summary, Analyze Patterns, Review Code, Generate Report, Propose Follow-up",
        "Quick status mode runs only phases 1-3 with concise terminal output (completion %, cost, ETA, warnings)",
        "References ${CLAUDE_PLUGIN_ROOT}/references/run-summary-schema.md and cost-estimation.md",
        "Uses Task API: creates phase tasks upfront, marks each in_progress/completed"
      ],
      "passes": false,
      "file": "maximus-loop/skills/maximus-review/SKILL.md",
      "complexity_level": "medium",
      "skills": ["plugin-dev:skill-development"],
      "testing_steps": [
        "cat maximus-loop/skills/maximus-review/SKILL.md",
        "Verify both full and quick modes are documented",
        "Verify Task API usage in both modes"
      ]
    },
    {
      "id": 5,
      "phase": 2,
      "category": "feature",
      "feature": "Build /maximus-review command and agent",
      "description": "Create the command and agent files for /maximus-review. (1) maximus-loop/commands/maximus-review.md: frontmatter with name (maximus-review), description, argument-hint ('[--quick]'), tools list (Read, Write, Bash, Glob, Grep, AskUserQuestion). Command body invokes the maximus-loop:maximus-review skill with $ARGUMENTS passthrough. (2) maximus-loop/agents/maximus-review.md: frontmatter with name, description containing trigger phrases covering both review and status scenarios, model (sonnet), color, tools list. Agent includes example blocks for: full review ('review the last run'), quick status ('how is the run going'), and explicit invocation ('/maximus-review --quick'). Agent body invokes the maximus-loop:maximus-review skill. Both files must follow the exact patterns from maximus-plan.md equivalents.",
      "acceptance_criteria": [
        "maximus-loop/commands/maximus-review.md exists with frontmatter: name, description, argument-hint ('[--quick]'), tools",
        "Command body invokes maximus-loop:maximus-review skill with $ARGUMENTS passthrough",
        "maximus-loop/agents/maximus-review.md exists with frontmatter: name, description, model (sonnet), color, tools",
        "Agent description includes example blocks for full review, quick status, and explicit invocation",
        "Agent body invokes the maximus-loop:maximus-review skill",
        "Both files follow the exact patterns from maximus-plan.md equivalents"
      ],
      "passes": false,
      "file": "maximus-loop/commands/maximus-review.md",
      "complexity_level": "simple",
      "skills": ["plugin-dev:command-development", "plugin-dev:agent-development"],
      "testing_steps": [
        "cat maximus-loop/commands/maximus-review.md",
        "cat maximus-loop/agents/maximus-review.md",
        "Compare structure against maximus-plan.md equivalents for consistency"
      ]
    },
    {
      "id": 6,
      "phase": 3,
      "category": "refactor",
      "feature": "Retrofit /maximus-plan with Task API progress tracking",
      "description": "Update the existing maximus-loop/skills/maximus-plan/SKILL.md to use the Task API for visual progress tracking. Add TaskCreate calls immediately after the 'Announce' section to create 6 tasks upfront (Explore, Understand, Propose, Detail, Validate, Write) with proper subject (imperative form) and activeForm (present continuous form). Then weave TaskUpdate calls into each phase: mark in_progress at the start and completed at the end. Reference ${CLAUDE_PLUGIN_ROOT}/references/task-api.md for patterns. CRITICAL: Do not change any existing phase logic, acceptance criteria rules, HARD-GATE, anti-pattern warnings, cost estimation formulas, validation checklist, or extend/replace/remove modes. Only ADD Task API calls — this is purely additive.",
      "acceptance_criteria": [
        "SKILL.md creates 6 tasks upfront after the Announce section using TaskCreate with imperative subjects and present-continuous activeForm",
        "Each of the 6 phases marks its task as in_progress before starting work",
        "Each of the 6 phases marks its task as completed when the phase finishes",
        "References ${CLAUDE_PLUGIN_ROOT}/references/task-api.md for Task API patterns",
        "All existing phase logic preserved: HARD-GATE, anti-pattern warnings, cost estimation, validation checklist",
        "Extend/replace/remove modes unchanged",
        "No regressions: the skill works identically for plan creation, just with visual progress"
      ],
      "passes": false,
      "file": "maximus-loop/skills/maximus-plan/SKILL.md",
      "complexity_level": "medium",
      "skills": ["plugin-dev:skill-development"],
      "testing_steps": [
        "cat maximus-loop/skills/maximus-plan/SKILL.md",
        "Verify TaskCreate calls exist after the Announce section",
        "Verify each phase has TaskUpdate calls for in_progress and completed",
        "Verify no existing phase logic was removed or altered"
      ]
    },
    {
      "id": 7,
      "phase": 3,
      "category": "documentation",
      "feature": "Update plugin.json and README",
      "description": "Update the plugin manifest and README to reflect the new skills. (1) Bump plugin.json version to '0.2.0'. (2) Update description to mention all three skills: plan generation, project initialization, and run analysis. (3) Add keywords: 'review', 'init', 'status', 'analysis'. (4) Update README.md with a skills section listing all three skills with one-line descriptions. (5) Add a 'Quick Start' section: install plugin → /maximus-init → /maximus-plan → maximus run → /maximus-review. (6) Document the --quick flag for /maximus-review. (7) Update the file tree in README.md to show all new files.",
      "acceptance_criteria": [
        "plugin.json version is '0.2.0'",
        "plugin.json description mentions plan generation, project initialization, and run analysis",
        "plugin.json keywords include 'review', 'init', 'status', 'analysis'",
        "README.md has a skills section listing /maximus-plan, /maximus-init, /maximus-review with descriptions",
        "README.md has a Quick Start section: install → /maximus-init → /maximus-plan → maximus run → /maximus-review",
        "README.md documents the --quick flag for /maximus-review",
        "README.md file tree updated to show all new files (skills/, commands/, agents/ for init and review)"
      ],
      "passes": false,
      "file": "maximus-loop/.claude-plugin/plugin.json",
      "complexity_level": "simple",
      "skills": ["plugin-dev:plugin-structure"],
      "testing_steps": [
        "python3 -c \"import json; json.load(open('maximus-loop/.claude-plugin/plugin.json'))\"",
        "Verify README.md file tree matches actual directory structure"
      ]
    }
  ]
}
